
[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mC:/Users/justus/.gemini/antigravity/scratch/automaker/apps/server[39m

 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mClaude models (claude-* prefix)[2m > [22mshould return ClaudeProvider for claude-opus-4-5-20251101[32m 15[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mClaude models (claude-* prefix)[2m > [22mshould return ClaudeProvider for claude-sonnet-4-20250514[32m 3[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mClaude models (claude-* prefix)[2m > [22mshould return ClaudeProvider for claude-haiku-4-5[32m 2[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mClaude models (claude-* prefix)[2m > [22mshould be case-insensitive for claude models[32m 3[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mClaude aliases[2m > [22mshould return ClaudeProvider for 'haiku'[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mClaude aliases[2m > [22mshould return ClaudeProvider for 'sonnet'[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mClaude aliases[2m > [22mshould return ClaudeProvider for 'opus'[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mClaude aliases[2m > [22mshould be case-insensitive for aliases[32m 3[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mCursor models (cursor-* prefix)[2m > [22mshould return CursorProvider for cursor-auto[33m 1132[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mCursor models (cursor-* prefix)[2m > [22mshould return CursorProvider for cursor-sonnet-4.5[33m 760[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mCursor models (cursor-* prefix)[2m > [22mshould return CursorProvider for cursor-gpt-5.2[33m 777[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mCursor models (cursor-* prefix)[2m > [22mshould be case-insensitive for cursor models[33m 805[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mCursor models (cursor-* prefix)[2m > [22mshould return CursorProvider for known cursor model ID without prefix[33m 817[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mUnknown models[2m > [22mshould default to ClaudeProvider for unknown model[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mUnknown models[2m > [22mshould handle empty string by defaulting to ClaudeProvider[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mUnknown models[2m > [22mshould default to ClaudeProvider for completely unknown prefixes[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mCursor models via model ID lookup[2m > [22mshould return CodexProvider for gpt-5.2 (Codex model, not Cursor)[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mCursor models via model ID lookup[2m > [22mshould return CursorProvider for grok (valid Cursor model)[33m 775[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderForModel[2m > [22mCursor models via model ID lookup[2m > [22mshould return CursorProvider for gemini-3-pro (valid Cursor model)[33m 762[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetAllProviders[2m > [22mshould return array of all providers[33m 1095[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetAllProviders[2m > [22mshould include ClaudeProvider[33m 798[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetAllProviders[2m > [22mshould return exactly 4 providers[33m 837[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetAllProviders[2m > [22mshould include CursorProvider[33m 808[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetAllProviders[2m > [22mshould create new instances each time[33m 1662[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mcheckAllProviders[2m > [22mshould return installation status for all providers[33m 756[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mcheckAllProviders[2m > [22mshould call detectInstallation on each provider[33m 821[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mcheckAllProviders[2m > [22mshould return correct provider names as keys[33m 800[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mcheckAllProviders[2m > [22mshould include cursor status[33m 760[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderByName[2m > [22mshould return ClaudeProvider for 'claude'[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderByName[2m > [22mshould return ClaudeProvider for 'anthropic'[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderByName[2m > [22mshould return CursorProvider for 'cursor'[33m 905[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderByName[2m > [22mshould be case-insensitive[33m 847[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderByName[2m > [22mshould return null for unknown provider[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderByName[2m > [22mshould return null for empty string[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetProviderByName[2m > [22mshould create new instance each time[32m 1[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetAllAvailableModels[2m > [22mshould return array of models[33m 894[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetAllAvailableModels[2m > [22mshould include models from all providers[33m 866[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetAllAvailableModels[2m > [22mshould return models with required fields[33m 982[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetAllAvailableModels[2m > [22mshould include Claude models[33m 852[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m tests/unit/providers/provider-factory.test.ts[2m > [22mprovider-factory.ts[2m > [22mgetAllAvailableModels[2m > [22mshould include Cursor models[33m 1316[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m40 passed[39m[22m[90m (40)[39m
[2m   Start at [22m 02:18:51
[2m   Duration [22m 23.35s[2m (transform 1.43s, setup 98ms, import 1.82s, tests 20.87s, environment 0ms)[22m

